# Cursor Multiagent System - Global Rules

## Context Saving
- **ALWAYS** save context after significant interactions
- Use `scripts/save_context.py` to save session context
- Update `config/CONTEXTO_GERAL.md` timestamp
- Commit changes to private config repository

## Multi-Machine Sync
- This system works across two machines (Linux + Windows via Tailscale)
- All agents MUST save context in `config/` directory
- Context is synced via private git submodule
- Never commit config/ to public repository

## Project Context
- Always check `config/CONTEXTO_GERAL.md` for current status
- Check specific context files when relevant:
  - `config/CONTEXTO_ESTUDOS.md` - Studies
  - `config/CONTEXTO_TRABALHO.md` - Work
  - `config/CONTEXTO_YOUTUBE.md` - YouTube
  - `config/CONTEXTO_PESSOAL.md` - Personal
- Update context files when projects change

## Agent Rules Mapping

**ALL agents MUST follow their specific `.mdc` files in `core/agents/`:**

### Mandatory for ALL Agents
- **`core/agents/programming.mdc`** - Programming rules (MANDATORY for any code)
- **`core/agents/notion.mdc`** - Notion integration rules (MANDATORY for Notion operations)

### Agent-Specific Rules
- **Personal Assistant**: `core/agents/personal-assistant.mdc`
  - Gamification system rules
  - YouTube content management
  - Notion workspace coordination
  - Daily/weekly card creation

- **Studies Assistant**: `core/agents/studies-assistant.mdc`
  - Teaching methodology
  - Project guidance
  - StuffsCode content (Instagram)
  - Knowledge Base project

- **Work Assistant**: `core/agents/work-assistant.mdc`
  - Professional development
  - Code review standards
  - Deployment practices
  - Git workflow
  - CI/CD processes

- **CI/CD Agent**: `core/agents/cicd-agent.mdc`
  - Deployment automation
  - Infrastructure management
  - Server configuration

- **Social Media Assistant**: `core/agents/social-media-assistant.mdc`
  - Currently inactive (YouTube moved to Personal Assistant, StuffsCode moved to Studies Assistant)

## File Organization Rules

### Config Directory Structure
- **Root of config/**: ONLY permanent general context files
  - ✅ `CONTEXTO_GERAL.md`, `CONTEXTO_ESTUDOS.md`, `CONTEXTO_TRABALHO.md`, etc.
  - ✅ `config.json`, `notion-ids.json`, `schedule.md`, `README.md`
  - ❌ NO temporary planning files, NO project-specific docs, NO session summaries

### Temporary Files Location
- **Planning documents**: `config/system/planning/` (temporary plans, daily schedules)
- **Session summaries**: `config/sessions/` (format: `YYYYMMDD_HHMMSS_context.md`)
- **Project-specific context**: `config/work/`, `config/studies/`, `config/personal/` (by domain)

### Scripts and Disposable Files
- **Scripts e Deploys/**: ONLY disposable scripts (.py, .sh), test files, deployment scripts, logs (.log)
- **Test files** (`test_*.py`, `*_test.py`): Scripts e Deploys/ (NEVER in project root)
- **Shell scripts** (`.sh`): Scripts e Deploys/ (NEVER in project root)
- **Context documents**: MUST be in `config/` (see `config/system/MAPEAMENTO_ASSUNTOS.md`)

### Project Documentation
- **Project README.md**: ONLY in project root (one file)
- **Project documentation**: `docs/` or `docs-private/` within project
- **NEVER create multiple README files or test scripts in project root**
- **NEVER create documentation files in project root**

### Logs Directory
- **Location**: `logs/` (gitignored)
- **Content**: ONLY conversation logs
- **Structure**: `logs/{domain}/{YYYY-MM-DD}_{subject}.md`
- **NEVER commit logs to git**

## Context Files Location
- **Main context:** `config/CONTEXTO_GERAL.md` (UPDATE AFTER EVERY SIGNIFICANT INTERACTION)
- **Specific contexts:**
  - `config/CONTEXTO_ESTUDOS.md` - Studies, FIAP, Tech Challenge
  - `config/CONTEXTO_TRABALHO.md` - Work, projects
  - `config/CONTEXTO_YOUTUBE.md` - YouTube, series, production
  - `config/CONTEXTO_PESSOAL.md` - Personal, weekly cards, treatment
- **Sessions:** `config/sessions/`
- **Mapping:** `config/system/MAPEAMENTO_ASSUNTOS.md` (where to put each type of file)

## After Each Interaction
1. **ALWAYS update `config/CONTEXTO_GERAL.md`** with significant changes
2. Update specific context files when relevant
3. Save context using `save_context.py`
4. Move temporary files to appropriate folders
5. Commit to private repository (automatic)

## Context Update Rules
- **CONTEXTO_GERAL.md:** Update after EVERY significant interaction
- **Specific contexts:** Update only when relevant to that area
- **DO NOT create new context files** - use existing ones
- **Keep structure clean** - no duplicate information

## No AI Reports in Git
- **NEVER create**: RESUMO_SESSAO, RELATORIO, FEEDBACK, ATUALIZACAO, ANALISE files
- **NEVER create**: Status reports, feedback files, or AI-generated summaries
- **NEVER create**: Arquivos de resumo/contexto para "me responder" (ex: RESUMO-CONTEXTO-AGENTE.md, RESUMO-APRENDIZADO.md)
  - **Responder no chat** quando usuário perguntar sobre contexto/aprendizado
  - **Criar arquivo apenas** se usuário solicitar explicitamente e indicar onde criar
  - **Motivo**: Arquivos automáticos geram muitos arquivos e deixam agentes lentos
- **Exception**: Only if user explicitly requests a report file
- **Changes go to**: CHANGELOG.md (succinct, no sensitive info)

## Agent Activation
- Agents should check their `.mdc` files in `core/agents/` for specific rules
- Agents should reference `programming.mdc` when working with code
- Agents should reference `notion.mdc` when working with Notion
- Agents should create/update log files in `logs/` when needed (daily if there's interaction)

## Daily Logs
- **Location**: `logs/{domain}/` (gitignored)
- **Format**: `YYYY-MM-DD_{subject}.md`
- **Content**: Conversation logs, interaction summaries
- **Frequency**: Daily if there's interaction
- **NEVER commit to git**

---

**Version:** 2.0  
**Last Updated:** 2025-12-08  
**Note:** Specific rules are in agent `.mdc` files in `core/agents/`
